function scroll(){document.body.scrollTop=0,document.documentElement.scrollTop=0}function PinSearch(e,t){var a,i;if(1==e?(a=document.getElementById("pininput1").value,i=document.getElementById("StateToPin1")):0==e&&(a=document.getElementById("pininput0").value,i=document.getElementById("StateToPin0")),validatePin(a)){sessionStorage.setItem("pin",a),sessionStorage.removeItem("currentState"),sessionStorage.removeItem("currentDistrict"),history.pushState({},"",`${window.location.pathname}?pin=${a}&y`);let i=document.getElementById("dateResults");results.getData(e,3,()=>{plotData(3,void 0,!0),document.getElementById("filters").classList+=" col-12",t()});let s=`${a} Available Slots`;document.title=s,i&&(i.innerHTML="",i.innerHTML+='<div class="d-flex justify-content-center">\n            <div class="spinner-border text-primary" role="status">\n              <span class="sr-only">Loading...</span>\n            </div>\n          </div>'),removePopOver()}else i.innerHTML=`<label>Pincode</label>\n          <input class="form-control mr-sm-2 bg-white text-black is-invalid" id="pininput${e}" type="pincode" placeholder="Pincode" value="${a}" aria-label="pincode" oninput="PinValid(${e})">\n          <div class="invalid-feedback" id="invalid-feedback" style="font-size: medium;!important border:thick">Invalid pinCode! Please enter valid Pincode.</div>\n          <button class="btn btn-success my-2 my-sm-0 "  id="PinButton" type="submit">Search</button>`,PreLoadActive&&removePreload()}function removePreload(){$("#PreLoad").removeClass("d-flex justify-content-center align-items-center"),$("#PreLoad").css("display","none"),$("#mynavbartop,#scroll,#h1,#info,#MainContent").css("display",""),$("body").css("overflow","auto"),$("#footer").css("display","block"),PreLoadActive=!1}function addPreLoad(){PreLoadActive=!0,$("#PreLoad").addClass("d-flex justify-content-center align-items-center "),$("#PreLoad").css("display","block"),$("#mynavbartop,#scroll,#h1,#info,#MainContent,#footer").css("display","none"),$("body").css("overflow","hidden")}function StoreStates(e){let t=new Map,a=new Map;for(let i=0;i<e.length;i++)t.set(e[i].state_id,e[i].state_name.trim()),a.set(e[i].state_name.trim(),e[i].state_id);return{GetName:function(e){return t.get(Number(e))},GetId:function(e){return a.get(e)},All:function(){return e}}}function StoreDistricts(e,t){let a=new Map,i=new Map;for(let t=0;t<e.length;t++)a.set(e[t].district_id,e[t].district_name.trim()),i.set(e[t].district_name.trim(),e[t].district_id);return{state_id:t,state_name:states.GetName(t),GetName:function(e){return a.get(Number(e))},GetId:function(e){return i.get(e.trim())},All:function(){return e}}}var states,districts;function querySearch(){let e=new URLSearchParams(window.location.search),t=e.get("dist"),a=e.get("state"),i=e.get("pin");if(e.has("dist")){if(e.has("y"))if(void 0!==districts){let e=!1,i=districts.GetName(t);if(i&&(e=!0),e){loadStates(1,a),loadDistricts(1,t),formSubmit(1,2,removePreload);let e=`${i} Available slots`;document.title=e}else{loadStates(1,a),loadStates(0);let e=!1;initDistricts(a,()=>{district.setAttribute("disabled","disabled"),document.getElementById("DistrictSubmit1").setAttribute("disabled","disabled"),district.innerHTML="",loadDistricts(1,a),e=!0,loadDistricts(0),formSubmit(1,2,removePreload),district.removeAttribute("disabled"),document.getElementById("DistrictSubmit1").removeAttribute("disabled");let s=`${i=districts.GetName(t)} Available slots`;document.title=s}),e||(district.setAttribute("disabled","disabled"),document.getElementById("DistrictSubmit1").setAttribute("disabled","disabled"))}}else{let e=!1;initStates(()=>{document.getElementById("district1").setAttribute("disabled","disabled"),initDistricts(a,()=>{e=!0,loadDistricts(1,t),loadDistricts(0),formSubmit(1,2,removePreload),document.getElementById("DistrictSubmit1").removeAttribute("disabled"),document.getElementById("district1").removeAttribute("disabled");let a=`${districts.GetName(t)} Available slots`;document.title=a}),loadStates(1,a),loadStates(0)}),e||document.getElementById("DistrictSubmit1").setAttribute("disabled","disabled")}else if(e.has("n")){let i=e.get("date");initStates(()=>{initDistricts(a,()=>{results.getData(1,2,()=>{plotData(4,i),removePreload()},!0,t),loadDistricts(1,t),loadDistricts(0,t);let e=districts.GetName(t);newtitle=`Vaccination Centers in ${e} on ${i}`,document.title=newtitle}),loadStates(1,a),loadStates(0,a)})}}else if(e.has("pin"))if(e.has("y")){SwithToPin();let t=e.get("pin");document.getElementById("pininput1").value=t,PinSearch(1,removePreload)}else if(e.has("n")){let s=e.get("date");initStates(()=>{initDistricts(1,()=>{results.getData(1,3,()=>{plotData(4,s),removePreload()},!0,i),loadDistricts(0,t)}),loadStates(0,a)}),newtitle=`Vaccination Centers in ${i} on ${s}`,document.title=newtitle}}$(window).bind("beforeunload",function(){sessionStorage.clear()}),window.addEventListener("DOMContentLoaded",()=>{document.getElementById("linkedin-in").addEventListener("mouseover",e=>{e.currentTarget.classList="hide",document.getElementById("linkedin-in1").classList="show"}),document.getElementById("linkedin-in1").addEventListener("mouseleave",e=>{e.currentTarget.classList="hide",document.getElementById("linkedin-in").classList="show"}),document.getElementById("instagram").addEventListener("mouseover",e=>{e.currentTarget.classList="hide",document.getElementById("instagram1").classList="show"}),document.getElementById("instagram1").addEventListener("mouseleave",e=>{e.currentTarget.classList="hide",document.getElementById("instagram").classList="show"}),document.getElementById("github").addEventListener("mouseover",e=>{e.currentTarget.classList="hide",document.getElementById("github1").classList="show"}),document.getElementById("github1").addEventListener("mouseleave",e=>{e.currentTarget.classList="hide",document.getElementById("github").classList="show"})}),$(window).bind("popstate",function(){let e=new URLSearchParams(window.location.search),t=e.get("state"),a=e.get("dist"),i=e.get("pin"),s=e.get("date"),n=!!i;if(e.has("y")){Button.clearFilters();let e=document.getElementById("dateResults");if(e)if(e.innerHTML="",n){SwithToPin();let e=document.getElementById("pininput1");e?(e.value=i,PinSearch(1,removePreload)):removePreload()}else if(SwithToDistrict(),void 0!==districts){let e=!1,i=districts.GetName(a);if(i&&(e=!0),e){loadStates(1,t),loadDistricts(1,a),formSubmit(1,2,removePreload);let e=`${i} Available slots`;document.title=e}else{loadStates(1,t),loadStates(0);let e=!1;initDistricts(t,()=>{document.getElementById("district1").setAttribute("disabled","disabled"),document.getElementById("DistrictSubmit1").setAttribute("disabled","disabled"),document.getElementById("district1").innerHTML="",e=!0,loadDistricts(1,t),loadDistricts(0),formSubmit(1,2,removePreload),document.getElementById("district1").removeAttribute("disabled"),document.getElementById("DistrictSubmit1").removeAttribute("disabled")}),e||(document.getElementById("district1").setAttribute("disabled","disabled"),document.getElementById("DistrictSubmit1").setAttribute("disabled","disabled"));let s=`${i=districts.GetName(a)} Available slots`;document.title=s}}else{let e=!1;initStates(()=>{document.getElementById("district1").setAttribute("disabled","disabled"),initDistricts(t,()=>{e=!0,loadDistricts(1,a),loadDistricts(0),formSubmit(1,2,removePreload),document.getElementById("DistrictSubmit1").removeAttribute("disabled"),document.getElementById("district1").removeAttribute("disabled")}),loadStates(1,t),loadStates(0)}),e||document.getElementById("DistrictSubmit1").setAttribute("disabled","disabled");let i=districts.GetName(a);if(!i){let e=`${i} Available slots`;document.title=e}}else{removePopOver();let e=document.getElementById("MainContent");if(e.innerHTML="",e.innerHTML=`\n      ${addFilterButtons()}\n      <div id="res" class="col-12 my-3">\n      <div id="dateResults" class="container h-100"></div>\n      </div>`,n){SwithToPin(),document.getElementById("pininput1").value=i,PinSearch(1,removePreload)}else loadStates(1,t),loadDistricts(1,a),formSubmit(1,2,removePreload);document.getElementById("filters").classList+=" col-12"}}else Button.clearFilters(),results.GetCopy()?(plotData(4,s),removePreload()):n?results.getData(1,3,()=>{plotData(4,s),removePreload()}):results.getData(1,2,()=>{plotData(4,s),removePreload()})}),$(window).on("load",()=>{$(document).on("click","#agefilter,#PageNavUl,#vaccinefilter,#feefilter,#dosefilter,#ad,#dateShift,#gobackanchor,#PinButton0,#DistrictSubmit0",function(){removePopOver()}),$(document).on("click","#closePopover",function(){removePopOver()}),$(document).on("click","#DistrictSubmit1",function(e){e.preventDefault(),formSubmit(1,2),e.stopPropagation()}),$(document).on("click","#DistrictSubmit0",function(e){e.preventDefault(),new URLSearchParams(window.location.search).has("n")&&Button.clearFilters(),formSubmit(0,2),e.stopPropagation()}),$(document).on("click","#PinButton1",function(e){e.preventDefault(),PinSearch(1),e.stopPropagation()}),$(document).on("click","#PinButton0",function(e){e.preventDefault(),new URLSearchParams(window.location.search).has("n")&&Button.clearFilters(),PinSearch(0),e.stopPropagation()}),$("#Retry").on("click",()=>{})});var PreLoadActive=!1;function SwithToPin(){if(document.getElementById("0statechange")){var e=document.getElementById("flexPincode");e.setAttribute("class","btn Button-clicked"),(e=document.getElementById("flexDistrict")).setAttribute("class","btn btn-secondary");for(var t=document.getElementById("StateToPin1");t.firstChild;)t.removeChild(t.firstChild);t.innerHTML='\n          <label>Pincode</label>\n          <input class="form-control mr-sm-2 text-white" id="pininput1" type="pincode" placeholder="Pincode" aria-label="pincode" oninput="PinValid(1)"></br>\n          <button class="btn btn-success my-2 my-sm-0" type="submit" id="PinButton1">Search</button>';let a=document.getElementById("dateResults");a&&(a.innerHTML="")}}function SwithToDistrict(){if(document.getElementById("pininput1")){var e=document.getElementById("flexPincode");e.setAttribute("class","btn btn-secondary"),(e=document.getElementById("flexDistrict")).setAttribute("class","btn Button-clicked");for(var t=document.getElementById("StateToPin1");t.firstChild;)t.removeChild(t.firstChild);if(t.innerHTML='<div class="form-group " id="0statechange">\n          <label for="state">State</label>\n          <select class="form-control" id="state1" onchange="stateSelected(this.value,1)">\n          </select>\n          </div>\n          <div class="form-group" id="mydiv1">\n          <label for="District">District</label>\n          <select class="form-control" id="district1">\n          </select>\n          </div>\n          <div class="form-group col-sm-4">\n          <button class="btn btn-success my-2 my-sm-0" type="submit" id="DistrictSubmit1" >Search</button>\n          </div>',void 0!==states&&void 0!==districts)loadStates(1,sessionStorage.getItem("currentState")),loadDistricts(1);else if(void 0===states&&void 0===districts){let e=!1;initStates(()=>{document.getElementById("district1").setAttribute("disabled","disabled"),initDistricts(1,()=>{loadDistricts(),e=!0,document.getElementById("DistrictSubmit1").removeAttribute("disabled"),document.getElementById("district1").removeAttribute("disabled")}),loadStates()}),e||document.getElementById("DistrictSubmit1").setAttribute("disabled","disabled")}let a=document.getElementById("dateResults");a&&(a.innerHTML="")}}function stateSelected(e,t){e=states.GetId(e);let a=document.getElementById(`district${t}`);initDistricts(e,()=>{a.setAttribute("disabled","disabled"),document.getElementById(`DistrictSubmit${t}`).setAttribute("disabled","disabled"),a.innerHTML="",loadDistricts(t,e),a.removeAttribute("disabled"),document.getElementById(`DistrictSubmit${t}`).removeAttribute("disabled")}),a.setAttribute("disabled","disabled"),document.getElementById(`DistrictSubmit${t}`).setAttribute("disabled","disabled"),sessionStorage.setItem("currentState",e)}async function initDistricts(e,t){var a="https://cdn-api.co-vin.in/api/v2/admin/location/districts/";a+=e;try{const i=await fetch(a,{method:"GET",headers:{Accept:"application/json"}});if(!i.ok)throw new Error(i.status);i.text().then(a=>{a=(a=JSON.parse(a)).districts,districts=StoreDistricts(a,e),t()})}catch(e){console.log(e),alert("error : "+e.message)}}async function initStates(e){try{const t=await fetch("https://cdn-api.co-vin.in/api/v2/admin/location/states",{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(t.status);t.text().then(t=>{t=(t=JSON.parse(t)).states,states=StoreStates(t),e()})}catch(e){console.log(e),alert("error : "+e.message)}}function loadStates(e,t){var a,i;void 0===e?(a=document.getElementById("state1"),i=document.getElementById("state0")):1==e?a=document.getElementById("state1"):0==e&&(i=document.getElementById("state0"));let s=window.states.All();for(let l=0;l<s.length;l++){var n=document.createElement("option"),d=document.createElement("option");d.innerHTML=s[l].state_name,n.innerHTML=s[l].state_name,void 0!==t&&t==s[l].state_id&&(n.setAttribute("selected","selected"),d.setAttribute("selected","selected"),sessionStorage.setItem("currentState",t)),void 0===e?(a.appendChild(n),i.appendChild(d)):1==e?a.appendChild(n):0==e&&i.appendChild(d)}}function loadDistricts(e,t){var a,i;void 0===e?(a=document.getElementById("district1"),i=document.getElementById("district0")):1==e?a=document.getElementById("district1"):0==e&&(i=document.getElementById("district0"));let s=window.districts.All();for(let l=0;l<s.length;l++){var n=document.createElement("option"),d=document.createElement("option");n.innerHTML=s[l].district_name,d.innerHTML=s[l].district_name,void 0!==t&&t==s[l].district_id&&(n.setAttribute("selected","selected"),d.setAttribute("selected","selected"),sessionStorage.setItem("currentDistrict",t)),void 0===e?(a.appendChild(n),i.appendChild(d)):1==e?a.appendChild(n):0==e&&i.appendChild(d)}}function alert(e){return`<div class="d-flex align-items-center justify-content-center">\n      <div class="alert alert-danger" role="alert" id="NoDataAlert">${e}</div>\n      </div>`}function changeData(e){if(!(0!=e.date.length&&(Button.isClicked("18+")||Button.isClicked("45+")||Button.isClicked("covishield")||Button.isClicked("covaxin")||Button.isClicked("sputnik v")||Button.isClicked("free")||Button.isClicked("paid")||Button.isClicked("1stDose")||Button.isClicked("2ndDose"))))return e;if(!Button.isClicked("covishield")||Button.isClicked("covaxin")||Button.isClicked("sputnik v")){if(Button.isClicked("covishield")||!Button.isClicked("covaxin")||Button.isClicked("sputnik v")){if(Button.isClicked("covishield")||Button.isClicked("covaxin")||!Button.isClicked("sputnik v")){if(Button.isClicked("covishield")&&Button.isClicked("covaxin")&&!Button.isClicked("sputnik v")){for(let t=0;t<e.date.length;t++)if(e.date[t].hasOwnProperty("vaccine")&&e.date[t].vaccine.hasOwnProperty("SPUTNIK V")&&delete e.date[t].vaccine["SPUTNIK V"],e.date[t].hasOwnProperty("Hospital"))for(let a=0;a<e.date[t].Hospital.length;a++){let i=e.date[t].Hospital.length-1;"SPUTNIK V"==e.date[t].Hospital[a].vaccine&&(e.date[t].available_capacity-=e.date[t].Hospital[a]["1stdose"]+e.date[t].Hospital[a]["2nddose"],e.date[t].available_capacity_dose1-=e.date[t].Hospital[a]["1stdose"],e.date[t].available_capacity_dose2-=e.date[t].Hospital[a]["2nddose"],e.date[t].Hospital.splice(a,1),a!=i&&a--)}}else if(Button.isClicked("covishield")&&!Button.isClicked("covaxin")&&Button.isClicked("sputnik v")){for(let t=0;t<e.date.length;t++)if(e.date[t].hasOwnProperty("vaccine")&&e.date[t].vaccine.hasOwnProperty("COVAXIN")&&delete e.date[t].vaccine.COVAXIN,e.date[t].hasOwnProperty("Hospital"))for(let a=0;a<e.date[t].Hospital.length;a++){let i=e.date[t].Hospital.length-1;"COVAXIN"==e.date[t].Hospital[a].vaccine&&(e.date[t].available_capacity-=e.date[t].Hospital[a]["1stdose"]+e.date[t].Hospital[a]["2nddose"],e.date[t].available_capacity_dose1-=e.date[t].Hospital[a]["1stdose"],e.date[t].available_capacity_dose2-=e.date[t].Hospital[a]["2nddose"],e.date[t].Hospital.splice(a,1),a!=i&&a--)}}else if(!Button.isClicked("covishield")&&Button.isClicked("covaxin")&&Button.isClicked("sputnik v"))for(let t=0;t<e.date.length;t++)if(e.date[t].hasOwnProperty("vaccine")&&e.date[t].vaccine.hasOwnProperty("COVISHIELD")&&delete e.date[t].vaccine.COVISHIELD,e.date[t].hasOwnProperty("Hospital"))for(let a=0;a<e.date[t].Hospital.length;a++){let i=e.date[t].Hospital.length-1;"COVISHIELD"==e.date[t].Hospital[a].vaccine&&(e.date[t].available_capacity-=e.date[t].Hospital[a]["1stdose"]+e.date[t].Hospital[a]["2nddose"],e.date[t].available_capacity_dose1-=e.date[t].Hospital[a]["1stdose"],e.date[t].available_capacity_dose2-=e.date[t].Hospital[a]["2nddose"],e.date[t].Hospital.splice(a,1),a!=i&&a--)}}else for(let t=0;t<e.date.length;t++)if(e.date[t].hasOwnProperty("vaccine")&&(e.date[t].vaccine.hasOwnProperty("COVISHIELD")&&delete e.date[t].vaccine.COVISHIELD,e.date[t].vaccine.hasOwnProperty("COVAXIN")&&delete e.date[t].vaccine.COVAXIN),e.date[t].hasOwnProperty("Hospital"))for(let a=0;a<e.date[t].Hospital.length;a++){let i=e.date[t].Hospital.length-1;"COVAXIN"==e.date[t].Hospital[a].vaccine?(e.date[t].available_capacity-=e.date[t].Hospital[a]["1stdose"]+e.date[t].Hospital[a]["2nddose"],e.date[t].available_capacity_dose1-=e.date[t].Hospital[a]["1stdose"],e.date[t].available_capacity_dose2-=e.date[t].Hospital[a]["2nddose"],e.date[t].Hospital.splice(a,1),a!=i&&a--):"COVISHIELD"==e.date[t].Hospital[a].vaccine&&(e.date[t].available_capacity-=e.date[t].Hospital[a]["1stdose"]+e.date[t].Hospital[a]["2nddose"],e.date[t].available_capacity_dose1-=e.date[t].Hospital[a]["1stdose"],e.date[t].available_capacity_dose2-=e.date[t].Hospital[a]["2nddose"],e.date[t].Hospital.splice(a,1),a!=i&&a--)}}else for(let t=0;t<e.date.length;t++)if(e.date[t].hasOwnProperty("vaccine")&&(e.date[t].vaccine.hasOwnProperty("COVISHIELD")&&delete e.date[t].vaccine.COVISHIELD,e.date[t].vaccine.hasOwnProperty("SPUTNIK V")&&delete e.date[t].vaccine["SPUTNIK V"]),e.date[t].hasOwnProperty("Hospital"))for(let a=0;a<e.date[t].Hospital.length;a++){let i=e.date[t].Hospital.length-1;"COVISHIELD"==e.date[t].Hospital[a].vaccine?(e.date[t].available_capacity-=e.date[t].Hospital[a]["1stdose"]+e.date[t].Hospital[a]["2nddose"],e.date[t].available_capacity_dose1-=e.date[t].Hospital[a]["1stdose"],e.date[t].available_capacity_dose2-=e.date[t].Hospital[a]["2nddose"],e.date[t].Hospital.splice(a,1),a!=i&&a--):"SPUTNIK V"==e.date[t].Hospital[a].vaccine&&(e.date[t].available_capacity-=e.date[t].Hospital[a]["1stdose"]+e.date[t].Hospital[a]["2nddose"],e.date[t].available_capacity_dose1-=e.date[t].Hospital[a]["1stdose"],e.date[t].available_capacity_dose2-=e.date[t].Hospital[a]["2nddose"],e.date[t].Hospital.splice(a,1),a!=i&&a--)}}else for(let t=0;t<e.date.length;t++)if(e.date[t].hasOwnProperty("vaccine")&&(e.date[t].vaccine.hasOwnProperty("COVAXIN")&&delete e.date[t].vaccine.COVAXIN,e.date[t].vaccine.hasOwnProperty("SPUTNIK V")&&delete e.date[t].vaccine["SPUTNIK V"]),e.date[t].hasOwnProperty("Hospital"))for(let a=0;a<e.date[t].Hospital.length;a++){let i=e.date[t].Hospital.length-1;"COVAXIN"==e.date[t].Hospital[a].vaccine?(e.date[t].available_capacity-=e.date[t].Hospital[a]["1stdose"]+e.date[t].Hospital[a]["2nddose"],e.date[t].available_capacity_dose1-=e.date[t].Hospital[a]["1stdose"],e.date[t].available_capacity_dose2-=e.date[t].Hospital[a]["2nddose"],e.date[t].Hospital.splice(a,1),a!=i&&a--):"SPUTNIK V"==e.date[t].Hospital[a].vaccine&&(e.date[t].available_capacity-=e.date[t].Hospital[a]["1stdose"]+e.date[t].Hospital[a]["2nddose"],e.date[t].available_capacity_dose1-=e.date[t].Hospital[a]["1stdose"],e.date[t].available_capacity_dose2-=e.date[t].Hospital[a]["2nddose"],e.date[t].Hospital.splice(a,1),a!=i&&a--)}if(Button.isClicked("18+")&&!Button.isClicked("45+")){console.log(e);for(let t=0;t<e.date.length;t++){let a=Object.getOwnPropertyNames(e.date[t].vaccine);for(let i=0;i<a.length;i++)e.date[t].vaccine[`${a[i]}`].hasOwnProperty(45)&&delete e.date[t].vaccine[`${a[i]}`][45]}for(let t=0;t<e.date.length;t++)for(let a=0;a<e.date[t].Hospital.length;a++){let i=e.date[t].Hospital.length-1;45==e.date[t].Hospital[a].min_age_limit&&(e.date[t].available_capacity-=e.date[t].Hospital[a]["1stdose"]+e.date[t].Hospital[a]["2nddose"],e.date[t].available_capacity_dose1-=e.date[t].Hospital[a]["1stdose"],e.date[t].available_capacity_dose2-=e.date[t].Hospital[a]["2nddose"],e.date[t].Hospital.splice(a,1),a!=i&&a--)}}else if(!Button.isClicked("18+")&&Button.isClicked("45+")){for(let t=0;t<e.date.length;t++){let a=Object.getOwnPropertyNames(e.date[t].vaccine);for(let i=0;i<a.length;i++)e.date[t].vaccine[`${a[i]}`].hasOwnProperty(18)&&delete e.date[t].vaccine[`${a[i]}`][18]}for(let t=0;t<e.date.length;t++)for(let a=0;a<e.date[t].Hospital.length;a++){let i=e.date[t].Hospital.length-1;18!=e.date[t].Hospital[a].min_age_limit||e.date[t].Hospital[a].allow_all_age||(e.date[t].available_capacity-=e.date[t].Hospital[a]["1stdose"]+e.date[t].Hospital[a]["2nddose"],e.date[t].available_capacity_dose1-=e.date[t].Hospital[a]["1stdose"],e.date[t].available_capacity_dose2-=e.date[t].Hospital[a]["2nddose"],e.date[t].Hospital.splice(a,1),a!=i&&a--)}}if(Button.isClicked("1stDose")&&!Button.isClicked("2ndDose")){for(let t=0;t<e.date.length;t++){let a=Object.getOwnPropertyNames(e.date[t].vaccine);for(let i=0;i<a.length;i++){let s=[18,45];for(let n=0;n<s.length;n++)e.date[t].vaccine[`${a[i]}`].hasOwnProperty(`${s[n]}`)&&e.date[t].vaccine[`${a[i]}`][`${s[n]}`].hasOwnProperty("2nddose")&&delete e.date[t].vaccine[`${a[i]}`][`${s[n]}`]["2nddose"]}}for(let t=0;t<e.date.length;t++)for(let a=0;a<e.date[t].Hospital.length;a++){let i=e.date[t].Hospital.length-1;e.date[t].available_capacity-=e.date[t].Hospital[a]["2nddose"],e.date[t].available_capacity_dose2-=e.date[t].Hospital[a]["2nddose"],0==e.date[t].Hospital[a]["1stdose"]&&(e.date[t].Hospital.splice(a,1),a!=i&&a--)}}else if(!Button.isClicked("1stDose")&&Button.isClicked("2ndDose")){for(let t=0;t<e.date.length;t++){let a=Object.getOwnPropertyNames(e.date[t].vaccine);for(let i=0;i<a.length;i++){let s=[18,45];for(let n=0;n<s.length;n++)e.date[t].vaccine[`${a[i]}`].hasOwnProperty(`${s[n]}`)&&e.date[t].vaccine[`${a[i]}`][`${s[n]}`].hasOwnProperty("1stdose")&&delete e.date[t].vaccine[`${a[i]}`][`${s[n]}`]["1stdose"]}}for(let t=0;t<e.date.length;t++)for(let a=0;a<e.date[t].Hospital.length;a++){let i=e.date[t].Hospital.length-1;e.date[t].available_capacity-=e.date[t].Hospital[a]["1stdose"],e.date[t].available_capacity_dose1-=e.date[t].Hospital[a]["1stdose"],0==e.date[t].Hospital[a]["2nddose"]&&(e.date[t].Hospital.splice(a,1),a!=i&&a--)}}if(Button.isClicked("free")&&!Button.isClicked("paid"))for(let t=0;t<e.date.length;t++){let a=Object.getOwnPropertyNames(e.date[t].vaccine);for(let i=0;i<a.length;i++){let s=Object.getOwnPropertyNames(e.date[t].vaccine[`${a[i]}`]);for(let n=0;n<s.length;n++){let d=Object.getOwnPropertyNames(e.date[t].vaccine[`${a[i]}`][`${s[n]}`]);for(let l=0;l<d.length;l++)e.date[t].vaccine[`${a[i]}`][`${s[n]}`][`${d[l]}`].hasOwnProperty("Paid")&&delete e.date[t].vaccine[`${a[i]}`][`${s[n]}`][`${d[l]}`].Paid}}for(let a=0;a<e.date[t].Hospital.length;a++){let i=e.date[t].Hospital.length-1;"Paid"==e.date[t].Hospital[a].fee_type&&(e.date[t].available_capacity-=e.date[t].Hospital[a]["1stdose"]+e.date[t].Hospital[a]["2nddose"],e.date[t].available_capacity_dose1-=e.date[t].Hospital[a]["1stdose"],e.date[t].available_capacity_dose2-=e.date[t].Hospital[a]["2nddose"],e.date[t].Hospital.splice(a,1),a!=i&&a--)}}else if(!Button.isClicked("free")&&Button.isClicked("paid"))for(let t=0;t<e.date.length;t++){let a=Object.getOwnPropertyNames(e.date[t].vaccine);for(let i=0;i<a.length;i++){let s=Object.getOwnPropertyNames(e.date[t].vaccine[`${a[i]}`]);for(let n=0;n<s.length;n++){let d=Object.getOwnPropertyNames(e.date[t].vaccine[`${a[i]}`][`${s[n]}`]);for(let l=0;l<d.length;l++)e.date[t].vaccine[`${a[i]}`][`${s[n]}`][`${d[l]}`].hasOwnProperty("Free")&&delete e.date[t].vaccine[`${a[i]}`][`${s[n]}`][`${d[l]}`].Free}}for(let a=0;a<e.date[t].Hospital.length;a++){let i=e.date[t].Hospital.length-1;"Free"==e.date[t].Hospital[a].fee_type&&(e.date[t].available_capacity-=e.date[t].Hospital[a]["1stdose"]+e.date[t].Hospital[a]["2nddose"],e.date[t].available_capacity_dose1-=e.date[t].Hospital[a]["1stdose"],e.date[t].available_capacity_dose2-=e.date[t].Hospital[a]["2nddose"],e.date[t].Hospital.splice(a,1),a!=i&&a--)}}return e}window.addEventListener("DOMContentLoaded",function(){addPreLoad()}),window.addEventListener("pageshow",e=>{if(window.location.search)querySearch();else{let e=!1;initStates(()=>{document.getElementById("district1").setAttribute("disabled","disabled"),initDistricts(1,()=>{loadDistricts(),e=!0,document.getElementById("DistrictSubmit1").removeAttribute("disabled"),document.getElementById("district1").removeAttribute("disabled"),removePreload()}),loadStates()}),e||document.getElementById("DistrictSubmit1").setAttribute("disabled","disabled")}});var results=function(){let e=null,t=!1,a=null;return{gotresponse:function(){return t},getData:function(a,i,s,n,d){let l=0;var o=new Date,c=o.getDate()+"-"+(o.getMonth()+1)+"-"+o.getFullYear();if(2==i){let e=document.getElementById(`district${a}`).value,i=0;void 0===n?i=districts.GetId(e):void 0!==n&&n&&(i=d),l="https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=",l+=i+"&date=",l+=c,t=!1}else{if(3!=i)return;{let e=null;void 0!==n&&n?e=d:void 0===n&&(e=document.getElementById(`pininput${a}`).value),l="https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByPin?pincode=",l+=e+"&date=",l+=c,t=!1}}let r=document.getElementById("dateResults");const p=new AbortController,u=setTimeout(()=>{results.gotresult=!1,p.abort(),PreLoadActive&&removePreload(),r.innerHTML="",r.innerHTML+=`<div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">\n                      <div class="modal-dialog modal-dialog-centered">\n                        <div class="modal-content ">\n                          <div class="modal-header">\n                            <h5 class="modal-title" id="staticBackdropLabel">Error</h5>\n                          </div>\n                          <div class="modal-body">\n                           Could not retrieve data.\n                           please try again.\n                          </div>\n                          <div class="modal-footer">\n                            <button type="button" class="btn btn-primary" data-dismiss="modal" id="Retry" onclick="results.getData(${a},${i},${s},${n},${d})">Try Again</button>\n                          </div>\n                        </div>\n                      </div>\n                    </div>`,$("#staticBackdrop").modal("show"),r.innerHTML+='<div class="d-flex justify-content-center">\n                    <div class="spinner-border text-primary" role="status">\n                      <span class="sr-only">Loading...</span>\n                    </div>\n                  </div>'},1e4);fetch(l,{method:"GET",signal:p.signal,headers:{Accept:"application/json"}}).then(e=>{if(e.ok)return clearTimeout(u),results.gotresult=!0,e.text();throw new Error(e.status)}).then(t=>{t=ConvertData(t=(t=JSON.parse(t)).centers),e=t}).then(()=>{s(JSON.parse(JSON.stringify(e)))}).catch(e=>{let t="error : "+e.message;console.log(t)})},filterData:function(){let t=JSON.parse(JSON.stringify(e));return a=changeData(t)},GetCopy:function(){return JSON.parse(JSON.stringify(e))},getCurrentFilteredData:function(){return a||this.filterData(),a}}}(),Button=function(){let e=!1,t=!1,a=!1,i=!1,s=!1,n=!1,d=!1,l=!1,o=!1;return{click:c=>{let r=!1;if("covishield"==c?(e=!e,t=!1,a=!1):"covaxin"==c?(t=!t,e=!1,a=!1):"sputnik v"==c?(a=!a,e=!1,t=!1):"1stDose"==c?(i=!i,s=!1):"2ndDose"==c?(s=!s,i=!1):"free"==c?(l=!l,o=!1):"paid"==c?(o=!o,l=!1):"18+"==c?(n=!n,d=!1):"45+"==c&&(d=!d,n=!1),"covishield"==c||"covaxin"==c||"sputnik v"==c)for(let e=1;e<4;e++){let t=document.getElementById(`vaccinefilter${e}`),a=document.getElementById("vaccinefilter").innerHTML,i=t.innerHTML;if(c==i.toLowerCase()){$("#vaccinefilter").text(i),$("#vaccinefilter").hasClass("btn-secondary")?($("#vaccinefilter").removeClass("btn-secondary"),$("#vaccinefilter").addClass("Button-clicked")):$("#vaccinefilter").hasClass("Button-clicked")&&a==i&&($("#vaccinefilter").removeClass("Button-clicked"),$("#vaccinefilter").addClass("btn-secondary"));break}}else if("18+"==c||"45+"==c)for(let e=1;e<3;e++){let t=document.getElementById(`agefilter${e}`).innerHTML,a=document.getElementById("agefilter").innerHTML;if(c==t){$("#agefilter").text(t),$("#agefilter").hasClass("btn-secondary")?($("#agefilter").removeClass("btn-secondary"),$("#agefilter").addClass("Button-clicked")):$("#agefilter").hasClass("Button-clicked")&&t==a&&($("#agefilter").removeClass("Button-clicked"),$("#agefilter").addClass("btn-secondary"));break}}else if("free"==c||"paid"==c)for(let e=1;e<3;e++){let t=document.getElementById(`feefilter${e}`).innerHTML,a=document.getElementById("feefilter").innerHTML;if(c==t){$("#feefilter").text(t),$("#feefilter").hasClass("btn-secondary")?($("#feefilter").removeClass("btn-secondary"),$("#feefilter").addClass("Button-clicked")):$("#feefilter").hasClass("Button-clicked")&&t==a&&($("#feefilter").removeClass("Button-clicked"),$("#feefilter").addClass("btn-secondary"));break}}else if("1stDose"==c||"2ndDose"==c)for(let e=1;e<3;e++){let t=document.getElementById(`dosefilter${e}`).innerHTML,a=document.getElementById("dosefilter").innerHTML;if(c==t){$("#dosefilter").text(t),$("#dosefilter").hasClass("btn-secondary")?($("#dosefilter").removeClass("btn-secondary"),$("#dosefilter").addClass("Button-clicked")):$("#dosefilter").hasClass("Button-clicked")&&t==a&&($("#dosefilter").removeClass("Button-clicked"),$("#dosefilter").addClass("btn-secondary"));break}}else r=!0;if(!r){let e=new URLSearchParams(window.location.search);if(e.has("y"))plotData(3);else if(e.has("n")&&e.has("date")){let t=e.get("date");showData.clear(),plotData(4,t)}}},isClicked:c=>"covishield"==c?e:"covaxin"==c?t:"sputnik v"==c?a:"18+"==c?n:"45+"==c?d:"1stDose"==c?i:"2ndDose"==c?s:"free"==c?l:"paid"==c?o:void 0,filterList:()=>["covishield","covaxin","sputnik v","1stDose","2ndDose","18+","45+","free","paid"],clearFilters:()=>{e=!1,t=!1,a=!1,i=!1,s=!1,n=!1,d=!1,l=!1,o=!1}}}();function Nextdate(){let e=document.getElementById("currentdate").innerHTML;if(e){let t=results.GetCopy(),a=new URLSearchParams(window.location.search),i=a.get("dist"),s=a.get("state"),n=a.get("pin"),d=0;for(let a=0;a<t.date.length;a++)if(t.date[a].value==e){d=a;break}if(d>=0&&d<t.date.length-1){n?(history.pushState({},"",`${window.location.pathname}?pin=${n}&n&date=${t.date[d+1].value}`),document.title=`Vaccination Centers in ${n} on ${t.date[d+1].value}`):i&&s&&(history.pushState({},"",`${window.location.pathname}?dist=${i}&state=${s}&n&date=${t.date[d+1].value}`),document.title=`Vaccination Centers in ${districts.GetName(i)} on ${t.date[d+1].value}`);let e=document.getElementById("dateshiftleft");e&&(e.setAttribute("src","img/arrow-left.svg"),document.getElementById("previousdateanchor").setAttribute("class","btn active")),plotData(4,t.date[d+1].value)}else{let e=document.getElementById("dateshiftright");e&&(e.setAttribute("src","img/arrow-right-fill.svg"),document.getElementById("nextdateanchor").setAttribute("class","btn disabled"))}}}function Previousdate(){let e=document.getElementById("currentdate").innerHTML;if(e){let t=results.GetCopy(),a=new URLSearchParams(window.location.search),i=a.get("dist"),s=a.get("state"),n=a.get("pin"),d=0;for(let a=0;a<t.date.length;a++)if(t.date[a].value==e){d=a;break}if(d>0){let e=document.getElementById("dateshiftright");e&&(e.setAttribute("src","img/arrow-right.svg"),document.getElementById("nextdateanchor").setAttribute("class","btn active")),n?(history.pushState({},"",`${window.location.pathname}?pin=${n}&n&date=${t.date[d-1].value}`),document.title=`Vaccination Centers in ${n} on ${t.date[d-1].value}`):i&&s&&(history.pushState({},"",`${window.location.pathname}?dist=${i}&state=${s}&n&date=${t.date[d-1].value}`),document.title=`Vaccination Centers in ${districts.GetName(i)} on ${t.date[d-1].value}`),plotData(4,t.date[d-1].value)}else{let e=document.getElementById("dateshiftleft");e&&(e.setAttribute("src","img/arrow-left-fill.svg"),document.getElementById("previousdateanchor").setAttribute("class"," btn disabled"))}}}function rel(){let e=window.location.protocol+"//";e+=window.location.host+window.location.pathname;let t=document.getElementById("Reload");t&&(t.setAttribute("href",e),t.click())}function formSubmit(e,t,a){if(removePopOver(),2==t){sessionStorage.removeItem("pin");let t=document.getElementById(`district${e}`).value,a=`${t} Available Slots`;document.title=a;(t=districts.GetId(t))||(t=districts.All()[0].district_id),sessionStorage.getItem("currentState")||sessionStorage.setItem("currentState",districts.state_id),sessionStorage.setItem("currentDistrict",t),history.pushState({},"",`${window.location.pathname}?dist=${t}&state=${sessionStorage.getItem("currentState")}&y`)}let i=document.getElementById("dateResults");if(results.getData(e,t,()=>{plotData(3,void 0,!0),document.getElementById("filters").classList+=" col-12",a()}),0==e){let e=document.getElementById("mainContent");document.getElementById("dateResults")||(e.innerHTML="",e.innerHTML='<div class="container h-100" id="start">\n                  <div class=" d-flex justify-content-center align-items-center">\n                              <a href="#" >\n                              <button class="btn Button-clicked" id="flexDistrict" onclick="SwithToDistrict()">District</button>\n                              </a>\n                              <a href="#" >\n                                  <button class="btn btn-secondary" id="flexPincode" onclick="SwithToPin()">Pincode</button>\n                              </a>\n                  </div>\n                  <div class="d-flex h-100 justify-content-center align-items-center" id="BeforeStateToPin">\n                      <form class="form-group " id="StateToPin1">\n                          <div class="form-group " id="0statechange">\n                          <label for="state">State</label>\n                          <select class="form-control" id="state1" onchange="stateSelected(this.value,1)">\n                          </select>\n                          </div>\n                          <div class="form-group" id="mydiv1">\n                          <label for="District">District</label>\n                          <select class="form-control" id="district1">\n                          </select>\n                          </div>\n                          <div class="form-group col-sm-4">\n                          <button class="btn btn-success my-2 my-sm-0" type="submit" id="DistrictSubmit1">Search</button>\n                          </div>\n                      </form>\n                  </div>\n              </div>\n              <div class="container h-100">\n                  <div class="d-flex h-100 align-items-center justify-content-center">\n                      <div class="font-weight-bold">Filters</div>\n                  </div>\n              </div>\n              <div class="d-flex align-items-center justify-content-center" id="filters">\n                  <div class="btn-group">\n                      <button type="button" id="agefilter" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                      18+\n                      </button>\n                      <div class="dropdown-menu">\n                      <a class="dropdown-item" id="agefilter1" href="javascript:Button.click(\'18+\')">18+</a>\n                      <a class="dropdown-item" id="agefilter2" href="javascript:Button.click(\'45+\')">45+</a>\n                      </div>\n                  </div>\n                  <div class="btn-group">\n                      <button type="button" id="vaccinefilter" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                      COVISHIELD\n                      </button>\n                      <div class="dropdown-menu">\n                          <a class="dropdown-item" id="vaccinefilter1" href="javascript:Button.click(\'covishield\')">COVISHIELD</a>\n                      <a class="dropdown-item" id="vaccinefilter2"   href="javascript:Button.click(\'covaxin\')">COVAXIN</a>\n                      <a class="dropdown-item" id="vaccinefilter3"   href="javascript:Button.click(\'sputnik\')">SPUTNIK</a>\n                      </div>\n                  </div>\n                  <div class="btn-group">\n                      <button type="button" id="feefilter" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                      free\n                      </button>\n                      <div class="dropdown-menu">\n                      <a class="dropdown-item" id="feefilter1" href="javascript:Button.click(\'free\')" >free</a>\n                      <a class="dropdown-item" id="feefilter2" href="javascript:Button.click(\'paid\')" >paid</a>\n                      </div>\n                  </div>\n                  <div class="btn-group">\n                      <button type="button" id="dosefilter" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                      1stDose\n                      </button>\n                      <div class="dropdown-menu">\n                      <a class="dropdown-item" id="dosefilter1" href="javascript:Button.click(\'1stDose\')">1stDose</a>\n                      <a class="dropdown-item" id="dosefilter2" href="javascript:Button.click(\'2ndDose\')">2ndDose</a>\n                      </div>\n                  </div>\n              </div>\n              </br>\n              <div id="res">\n              <div id="dateResults" class="container h-100">\n              </div>\n              </div>'),SwithToDistrict(),loadStates(1,sessionStorage.getItem("currentState")),loadDistricts(1,sessionStorage.getItem("currentDistrict"))}i?(i.innerHTML="",i.innerHTML+='<div class="d-flex justify-content-center">\n          <div class="spinner-border text-primary" role="status">\n            <span class="sr-only">Loading...</span>\n          </div>\n        </div>'):(i=document.getElementById("res"))&&(i.innerHTML="",i.innerHTML+='<div class="d-flex justify-content-center">\n              <div class="spinner-border text-primary" role="status">\n                <span class="sr-only">Loading...</span>\n              </div>\n            </div>')}function SwitchToHospital(e){let t=new URLSearchParams(window.location.search),a=t.get("dist"),i=t.get("state"),s=t.get("pin");s?history.pushState({},"",`${window.location.pathname}?pin=${s}&n&date=${e}`):a&&i&&history.pushState({},"",`${window.location.pathname}?dist=${a}&state=${i}&n&date=${e}`),plotData(4,e);let n="";if(s)n=`Vaccination centers in ${s} on ${e}`,document.title=n;else if(a&&i){let t="";n=`Vaccination centers in ${t=districts.GetName(a)} on ${e}`,document.title=n}addPopOver()}function addPopOver(){sessionStorage.getItem("popover")||($('[data-toggle="popover"]').popover({placement:"top",html:!0,content:'<a href="javascript:" id="closePopover" class="close btn"data-dismiss="alert">&times;</a><div class="media-body">click here to get more information about this vaccination center</div>'}),$('[data-toggle="popover"]').popover("show"),sessionStorage.setItem("popover","added"))}function removePopOver(){sessionStorage.getItem("popover")&&"added"==sessionStorage.getItem("popover")&&(sessionStorage.setItem("popover","removed"),$('[data-toggle="popover"]').popover("hide"),$("#ad").popover("dispose"))}function plotData(e,t,a){let i=results.filterData(),s=sessionStorage.getItem("currentState"),n=sessionStorage.getItem("currentDistrict"),d=sessionStorage.getItem("pin"),l=!d,o=window.districts.All(),c=window.states.All();if(3==e){let e=[];var r=document.getElementById("dateResults");if(r)r.innerHTML="";else if(r=document.getElementById("res")){r.innerHTML="";let e=document.createElement("div");e.setAttribute("class","container h-100"),e.setAttribute("id","dateResults"),r.appendChild(e),r=document.getElementById("dateResults")}else{if((r=document.getElementById("MainContent")).innerHTML="",a?r.innerHTML=`\n          ${addFilterButtons()}\n          <div id="res" class="col-12 my-3">\n          <div id="dateResults" class="container h-100"></div>\n          </div>`:r.innerHTML+=`<div class="container h-100" id="start">\n                     <div class=" d-flex justify-content-center align-items-center">\n                                 <a href="#" >\n                                 <button class="btn Button-clicked" id="flexDistrict" onclick="SwithToDistrict()">District</button>\n                                 </a>\n                                 <a href="#" >\n                                     <button class="btn btn-secondary" id="flexPincode" onclick="SwithToPin()">Pincode</button>\n                                 </a>\n                     </div>\n                     <div class="d-flex h-100 justify-content-center align-items-center" id="BeforeStateToPin">\n                         <form class="form-group " id="StateToPin1">\n                             <div class="form-group ">\n                             <label for="state">State</label>\n                             <select class="form-control" id="state1" onchange="stateSelected(this.value,1)">\n                             </select>\n                             </div>\n                             <div class="form-group" id="mydiv1">\n                             <label for="District">District</label>\n                             <select class="form-control" id="district1">\n                             </select>\n                             </div>\n                             <div class="form-group col-sm-4">\n                             <button class="btn btn-success my-2 my-sm-0" type="submit" id="DistrictSubmit1">Search</button>\n                             </div>\n                         </form>\n                     </div>\n                 </div>\n                 <div class="container h-100">\n                     <div class="d-flex h-100 align-items-center justify-content-center">\n                         <div class="font-weight-bold">Filters</div>\n                         </div>\n                 </div>${addFilterButtons()}</br>\n                     <div id="res">\n                     <div id="dateResults" class="container h-100">\n                     </div> \n                     </div>`,l){let e=document.getElementById("state1");for(;e.hasChildNodes();)e.removeChild(e.firstChild);for(let t=0;t<c.length;t++){let a=document.createElement("option");s&&c[t].state_id==s&&(s=null,a.setAttribute("selected","selected")),a.innerHTML=c[t].state_name,e.appendChild(a)}for(e=document.getElementById("district1");e.hasChildNodes();)e.removeChild(e.firstChild);for(let t=0;t<o.length;t++){let a=document.createElement("option");n&&o[t].district_id==n&&(n=null,a.setAttribute("selected","selected")),a.innerHTML=o[t].district_name,e.appendChild(a)}}else{SwithToPin(),document.getElementById("pininput1").setAttribute("value",`${d}`)}r=document.getElementById("dateResults")}if(0==i.date.length)return void(r.innerHTML+=alert("no data available for next 7 days"));for(let t=0;t<i.date.length;t++)e.push(i.date[t].value);for(let t=0;t<e.length;t++){let a=0,s=0;for(let a=0;a<i.date.length;a++)if(i.date[a].value==e[t]){s=a;break}(a=i.date[s].available_capacity)<=0?(a=0,r.innerHTML+=`<div class="d-flex align-items-center justify-content-center">\n                           <div class="row">\n                               <div class="card text-white bg-secondary mb-3" id="req" >\n                                   <div class="card-header">${e[t]}</div>\n                                   <div class="card-body">\n                                   <h5 class="card-title">Available slots : ${a} <span><a href="javascript:SwitchToHospital('${e[t]}')" class="btn disabled"><img src="img/arrow-right.svg"></img></a></span></h5>\n                                   <p class="card-text">${addBadges(i.date[s].vaccine)}</p>\n                                   </div>\n                                   </div>\n                               </div>\n                           </div>`):a>0&&(r.innerHTML+=`<div class="d-flex align-items-center justify-content-center">\n                           <div class="row">\n                               <div class="card text-white bg-success mb-3" id="req" >\n                                   <div class="card-header">${e[t]}</div>\n                                   <div class="card-body">\n                                   <h5 class="card-title">Available slots : ${a} <span><a href="javascript:SwitchToHospital('${e[t]}')" class="btn active"><img src="img/arrow-right.svg"></img></a></span></h5>\n                                   <p class="card-text">${addBadges(i.date[s].vaccine)}</p>\n                                   </div>\n                                   </div>\n                               </div>\n                           </div>\n                       `)}}else if(4==e){let e=-1;for(let a=0;a<i.date.length;a++)if(i.date[a].value==t){e=a;break}if(-1==e){e=0,t=i.date[e].value;let a=new URLSearchParams(window.location.search);a.has("pin")?history.replaceState({},"",`${window.location.pathname}?pin=${a.get("pin")}&n&date=${t}`):a.has("dist")&&a.has("state")&&history.replaceState({},"",`${window.location.pathname}?dist=${a.get("dist")}&state=${a.get("state")}&n&date=${t}`)}showData.plot(i.date[e].Hospital,t,1),addPopOver(),$(".card-body").on("click",e=>{e.stopPropagation()})}}function previousPage(e){if(1==showData.currentPage())return document.getElementById("PreviousPage").setAttribute("class","page-item disabled"),void document.getElementById("NextPage").setAttribute("class","page-item");let t=new URLSearchParams(window.location.search).get("date"),a=results.getCurrentFilteredData(),i=0;for(let e=0;e<a.date.length;e++)if(a.date[e].value==t){i=e;break}-1==e?showData.plot(a.date[i].Hospital,t,showData.currentPage()-1):showData.plot(a.date[i].Hospital,t,e)}function nextPage(e){if(showData.currentPage()==showData.TotalPages())return document.getElementById("NextPage").setAttribute("class","page-item disabled"),void document.getElementById("PreviousPage").setAttribute("class","page-item");let t=new URLSearchParams(window.location.search),a=t.get("date"),i=results.getCurrentFilteredData(),s=0;for(let e=0;e<i.date.length;e++)if(i.date[e].value==a){s=e;break}-2==e?showData.plot(i.date[s].Hospital,t.get("date"),showData.currentPage()+1):showData.plot(i.date[s].Hospital,t.get("date"),e)}function changePage(e){showData.currentPage()>e?previousPage(e):showData.currentPage()<e&&nextPage(e)}var showData=function(){let e=null,t=null,a=null,i=null;return{plot:function(s,n,d){a&&a!=n&&(a=null),e&&e!=s.length&&(a=null),a||(a=n,e=s.length,t=Math.ceil(e/parseFloat(10))),i=d;let l=10*(d-1),o=l+10>=e?e:l+10+1;var c=document.getElementById("hospitalResults");if(c){if(document.getElementById("currentdate").innerHTML=`${n}`,c.innerHTML="",0==s.length)return void(Button.isClicked("18+")||Button.isClicked("45+")||Button.isClicked("covishield")||Button.isClicked("covaxin")||Button.isClicked("sputnik")||Button.isClicked("free")||Button.isClicked("paid")||Button.isClicked("1stDose")||Button.isClicked("2ndDose")?c.innerHTML+=alert("No Data of Vaccination centers available for current set of filters."):c.innerHTML+=alert("No Data of Vaccination centers available"));c.innerHTML+='<div class="d-flex flex-column p-2 align-items-center justify-content-center"><div class="accordion" id="HospitalRes"></div></div>',(c=document.getElementById("HospitalRes")).innerHTML="",c.innerHTML+=`<div class="card " data-toggle="popover" id="ad" onclick="DelegateClick(${l})"><div class="d-flex card-header ${s[l]["1stdose"]>0||s[l]["2nddose"]>0?"btn-success":"btn-secondary"} align-items-center justify-content-center" id="Hospital${l}" ><h2 class="mb-0" ><button class="btn collapsed" id="HospitalName${l}" type="button" data-toggle="collapse" data-target="#Hospitaldetails${l}" aria-expanded="false" aria-controls="Hospitaldetails${l}">${s[l].name}</button></h2></div><div id="Hospitaldetails${l}" class="collapse" aria-labelledby="Hospital${l}" data-parent="#HospitalRes"><div class="card-body"><p id="HospitalAddress">${s[l].address}</p>\n        <p id="blockname">${s[l].block_name}</p>\n        <p id="districtname">${s[l].district_name}</p>\n        <p id="statename">${s[l].state_name}</p>\n        <p id="pin22">${s[l].pincode}</p>\n        <p>${addBadges(s,l)}</p><ul class="list-group"><li class="list-group-item ${s[l]["1stdose"]>0?"list-group-item-success":"list-group-item-secondary"}" id="dose1">${s[l]["1stdose"]}</li><li class="list-group-item ${s[l]["2nddose"]>0?"list-group-item-success":"list-group-item-secondary"}" id="dose2">${s[l]["2nddose"]}</li><li class="list-group-item ${s[l]["3rddose"]>0?"list-group-item-success":"list-group-item-secondary"}" id="dose3" style="display:${s[l]["3rddose"]>0?"block":"none"}" >${s[l]["3rddose"]}</li></ul></div></div></div>`;for(let e=l+1;e<o;e++)c.innerHTML+=`<div class="card" onclick="DelegateClick(${e})"><div class="d-flex card-header ${s[e]["1stdose"]>0||s[e]["2nddose"]>0||s[e]["3rddose"]>0?"btn-success":"btn-secondary"} align-items-center justify-content-center" id="Hospital${e}" ><h2 class="mb-0" ><button class="btn collapsed" id="HospitalName${e}" type="button" data-toggle="collapse" data-target="#Hospitaldetails${e}" aria-expanded="false" aria-controls="Hospitaldetails${e}">${s[e].name}</button></h2></div><div id="Hospitaldetails${e}" class="collapse" aria-labelledby="Hospital${e}" data-parent="#HospitalRes"><div class="card-body" ><p id="HospitalAddress">${s[e].address}</p>\n          <p id="blockname">${s[e].block_name}</p>\n          <p id="districtname">${s[e].district_name}</p>\n          <p id="statename">${s[e].state_name}</p>\n          <p id="pin22">${s[e].pincode}</p>\n          <p>${addBadges(s,e)}</p><ul class="list-group"><li class="list-group-item ${s[e]["1stdose"]>0?"list-group-item-success":"list-group-item-secondary"}" id="dose1">${s[e]["1stdose"]}</li><li class="list-group-item ${s[e]["2nddose"]>0?"list-group-item-success":"list-group-item-secondary"}" id="dose2">${s[e]["2nddose"]}</li><li class="list-group-item ${s[e]["3rdddose"]>0?"list-group-item-success":"list-group-item-secondary"}" id="dose3" style="display:${s[e]["3rddose"]>0?"block":"none"}" >${s[e]["3rddose"]}</li>\n          </ul></div></div></div>`}else{if((c=document.getElementById("MainContent")).innerHTML="",0==s.length)return c.innerHTML+='<div class="d-flex justify-content-start"><div class="p-2"><a href="javascript:GoBackToDateResults()" title="go back" class="btn active" id="gobackanchor"><img src="img/arrow-left.svg" alt="go back"></a></div></div>',void(Button.isClicked("18+")||Button.isClicked("45+")||Button.isClicked("covishield")||Button.isClicked("covaxin")||Button.isClicked("sputnik")||Button.isClicked("free")||Button.isClicked("paid")||Button.isClicked("1stDose")||Button.isClicked("2ndDose")?c.innerHTML+=alert("No Data of Vaccination centers available for current set of filters."):c.innerHTML+=alert("No Data of Vaccination centers available"));c.innerHTML+=`<div class="d-flex col-12 order-1 justify-content-between" id="dateShift">\n                                      <div class="p-2"><a href="javascript:Previousdate()" title="goto previous date" id="previousdateanchor" class="btn active"><img src="img/arrow-left.svg" alt="goto previous date" id="dateshiftleft"></a></div><div class="p-2 font-weight-bold" title="current date" id="currentdate">${a}</div><div class="p-2"><a href="javascript:Nextdate()" title="goto next date" id="nextdateanchor" class="btn active"><img src="img/arrow-right.svg" alt="goto next date" id="dateshiftright"></a></div></div>`,addFilterButtons(c),c.innerHTML+='<div id="hospitalResults" class="col-12 order-3"></div>',(c=document.getElementById("hospitalResults")).innerHTML+='<div class="d-flex flex-column p-2 align-items-center justify-content-center"><div class="accordion" id="HospitalRes"></div></div>',(c=document.getElementById("HospitalRes")).innerHTML="",c.innerHTML+=`<div class="card " id="ad" data-toggle="popover" onclick="DelegateClick(${l})"><div class="d-flex card-header ${s[l]["1stdose"]>0||s[l]["2nddose"]>0?"btn-success":"btn-secondary"} align-items-center justify-content-center" id="Hospital${l}"><h2 class="mb-0" ><button class="btn collapsed" id="HospitalName${l}" type="button" data-toggle="collapse" data-target="#Hospitaldetails${l}" aria-expanded="false" aria-controls="Hospitaldetails${l}">${s[l].name}</button></h2></div><div id="Hospitaldetails${l}" class="collapse" aria-labelledby="Hospital${l}" data-parent="#HospitalRes"><div class="card-body"><p id="HospitalAddress">${s[l].address}</p>\n        <p id="blockname">${s[l].block_name}</p>\n        <p id="districtname">${s[l].district_name}</p>\n        <p id="statename">${s[l].state_name}</p>\n        <p id="pin22">${s[l].pincode}</p>\n        <p>${addBadges(s,l)}</p><ul class="list-group"><li class="list-group-item ${s[l]["1stdose"]>0?"list-group-item-success":"list-group-item-secondary"}" id="dose1">${s[l]["1stdose"]}</li><li class="list-group-item ${s[l]["2nddose"]>0?"list-group-item-success":"list-group-item-secondary"}" id="dose2">${s[l]["2nddose"]}</li><li class="list-group-item ${s[l]["3rddose"]>0?"list-group-item-success":"list-group-item-secondary"}" id="dose3" style="display:${s[l]["3rddose"]>0?"block":"none"}">${s[l]["3rddose"]}</li></ul></div></div></div>`;for(let e=l+1;e<o;e++)c.innerHTML+=`<div class="card" onclick="DelegateClick(${e})"><div class="d-flex card-header ${s[e]["1stdose"]>0||s[e]["2nddose"]>0?"btn-success":"btn-secondary"} align-items-center justify-content-center" id="Hospital${e}"><h2 class="mb-0"><button class="btn collapsed" id="HospitalName${e}" type="button" data-toggle="collapse" data-target="#Hospitaldetails${e}" aria-expanded="false" aria-controls="Hospitaldetails${e}">${s[e].name}</button></h2></div><div id="Hospitaldetails${e}" class="collapse" aria-labelledby="Hospital${e}" data-parent="#HospitalRes"><div class="card-body"><p id="HospitalAddress">${s[e].address}</p>\n          <p id="blockname">${s[e].block_name}</p>\n          <p id="districtname">${s[e].district_name}</p>\n          <p id="statename">${s[e].state_name}</p>\n          <p id="pin22">${s[e].pincode}</p>\n          <p>${addBadges(s,e)}</p><ul class="list-group"><li class="list-group-item ${s[e]["1stdose"]>0?"list-group-item-success":"list-group-item-secondary"}" id="dose1">${s[e]["1stdose"]}</li><li class="list-group-item ${s[e]["2nddose"]>0?"list-group-item-success":"list-group-item-secondary"}" id="dose2">${s[e]["2nddose"]}</li><li class="list-group-item ${s[e]["3rddose"]>0?"list-group-item-success":"list-group-item-secondary"}" id="dose3" style="display:${s[e]["3rddose"]>0?"block":"none"}">${s[e]["3rddose"]}</li></ul></div></div></div>`}let r=1,p=t+1;t>5&&(i>5?(p=(r=5*Math.floor(i/5))+5)>=t&&(p=t+1):(r=1,p=6));let u='<nav aria-label="Vaccination Centers Page navigation">\n              <ul id="PageNavUl" class="pagination justify-content-center">\n                  <li class="page-item" id="PreviousPage">\n                  <a  id="PrevA" class="page-link text-white bg-secondary" href="javascript:previousPage(-1)" aria-label="Previous">\n                      <span aria-hidden="true">&laquo;</span>\n                  </a>\n                  </li>';for(let e=r;e<p;e++)u+=`<li class="page-item"><a id="pagination1" class="page-link ${i==e?"bg-color text-dark":"bg-secondary text-white"} " href="javascript:changePage(${e})">${e}</a></li>`;u+='<li class="page-item" id="NextPage"><a id="NextA" class="page-link text-white bg-secondary" href="javascript:nextPage(-2)" aria-label="Next"><span aria-hidden="true">&raquo;</span></a></li></ul></nav>';let v=c.parentElement;v.innerHTML+=u,u=`<div class=" d-flex justify-content-center text-dark">Showing Page Number ${i} of Total ${t} Pages</div>`,v.innerHTML+=u},TotalPages:function(){return t},currentPage:function(){return i},clear:function(){e=null,t=null,a=null,i=null}}}();function addFilterButtons(e){if(void 0===e)return'<div class="d-flex align-items-center justify-content-center" id="filters">\n          <div class="btn-group">\n              <button type="button" id="agefilter" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                18+\n              </button>\n              <div class="dropdown-menu">\n                <a class="dropdown-item" id="agefilter1" href="javascript:Button.click(\'18+\')">18+</a>\n                <a class="dropdown-item" id="agefilter2" href="javascript:Button.click(\'45+\')">45+</a>\n              </div>\n          </div>\n          <div class="btn-group">\n              <button type="button" id="vaccinefilter" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                COVISHIELD\n              </button>\n              <div class="dropdown-menu">\n                  <a class="dropdown-item" id="vaccinefilter1" href="javascript:Button.click(\'covishield)">COVISHIELD</a>\n                <a class="dropdown-item" id="vaccinefilter2"   href="javascript:Button.click(\'covaxin\')">COVAXIN</a>\n                <a class="dropdown-item" id="vaccinefilter3"   href="javascript:Button.click(\'sputnik v\')">SPUTNIK V</a>\n              </div>\n          </div>\n          <div class="btn-group">\n              <button type="button" id="feefilter" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                free\n              </button>\n              <div class="dropdown-menu">\n                <a class="dropdown-item" id="feefilter1" href="javascript:Button.click(\'free\')">free</a>\n                <a class="dropdown-item" id="feefilter2" href="javascript:Button.click(\'paid\')">paid</a>\n              </div>\n          </div>\n          <div class="btn-group">\n              <button type="button" id="dosefilter" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                1stDose\n              </button>\n              <div class="dropdown-menu">\n                <a class="dropdown-item" id="dosefilter1" href="javascript:Button.click(\'1stDose\')">1stDose</a>\n                <a class="dropdown-item" id="dosefilter2" href="javascript:Button.click(\'2ndDose\')">2ndDose</a>\n              </div>\n          </div>\n      </div>';e.innerHTML+=`<div class="d-flex order-2 col-12 align-items-center justify-content-center" id="filters">\n          <div class="btn-group">\n              <button type="button" id="agefilter" class="btn ${Button.isClicked("18+")||Button.isClicked("45+")?"Button-clicked":"btn-secondary"} dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n              ${Button.isClicked("18+")?"18+":Button.isClicked("45+")?"45+":"18+"}\n              </button>\n              <div class="dropdown-menu">\n                <a class="dropdown-item" id="agefilter1" href="javascript:Button.click('18+')">18+</a>\n                <a class="dropdown-item" id="agefilter2" href="javascript:Button.click('45+')">45+</a>\n              </div>\n          </div>\n          <div class="btn-group">\n              <button type="button" id="vaccinefilter" class="btn ${Button.isClicked("covishield")||Button.isClicked("covaxin")||Button.isClicked("sputnik")?"Button-clicked":"btn-secondary"} dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n              ${Button.isClicked("covishield")?"COVISHIELD":Button.isClicked("covaxin")?"COVAXIN":Button.isClicked("sputnik v")?"SPUTNIK V":"COVISHIELD"}  \n              </button>\n              <div class="dropdown-menu">\n                  <a class="dropdown-item" id="vaccinefilter1" href="javascript:Button.click('covishield')">COVISHIELD</a>\n                <a class="dropdown-item" id="vaccinefilter2"   href="javascript:Button.click('covaxin')">COVAXIN</a>\n                <a class="dropdown-item" id="vaccinefilter3"   href="javascript:Button.click('sputnik v')">SPUTNIK V</a>\n              </div>\n          </div>\n          <div class="btn-group">\n              <button type="button" id="feefilter" class="btn  ${Button.isClicked("free")||Button.isClicked("paid")?"Button-clicked":"btn-secondary"} dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n              ${Button.isClicked("free")?"free":Button.isClicked("paid")?"paid":"free"}\n              </button>\n              <div class="dropdown-menu">\n                <a class="dropdown-item" id="feefilter1" href="javascript:Button.click('free')">free</a>\n                <a class="dropdown-item" id="feefilter2" href="javascript:Button.click('paid')">paid</a>\n              </div>\n          </div>\n          <div class="btn-group">\n              <button type="button" id="dosefilter" class="btn ${Button.isClicked("1stDose")||Button.isClicked("2ndDose")?"Button-clicked":"btn-secondary"} dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n              ${Button.isClicked("1stDose")?"1stDose":Button.isClicked("2ndDose")?"2ndDose":"1stDose"}\n              </button>\n              <div class="dropdown-menu">\n                <a class="dropdown-item" id="dosefilter1" href="javascript:Button.click('1stDose')">1stDose</a>\n                <a class="dropdown-item" id="dosefilter2" href="javascript:Button.click('2ndDose')">2ndDose</a>\n              </div>\n          </div>\n      </div>`}function addBadges(e,t){if(Array.isArray(e)){if(0==e.length)return"";{let a="";if(a=`<span class="badge badge-info" title="this date has this vaccine available">${e[t].vaccine}</span> `,e[t].allow_all_age){let i=[12,18,45],s=i.findIndex(a=>a===e[t].min_age_limit);if(-1!=s)for(;s<i.length;s++)a+=`<span class="badge badge-info" title="this date has vaccines available for this age-group">${i[s]+"+"}</span> `}else a+=`<span class="badge badge-info" title="this date has vaccines available for this age-group">${e[t].min_age_limit+"+"}</span> `;return a+=`<span class="badge badge-info" title="this date has vaccines available by this mode of payment">${"Paid"==e[t].fee_type?"Paid(&#x20B9; "+e[t].fees+")":"Free"}</span> `,e[t]["1stdose"]>0&&(a+='<span class="badge badge-info" title="this date has vaccines available for 1stdose of vaccination">1stdose</span> '),e[t]["2nddose"]>0&&(a+='<span class="badge badge-info" title="this date has vaccines available for 2nddose of vaccination">2nddose</span> '),e[t]["3rddose"]>0&&(a+='<span class="badge badge-info" title="this date has vaccines available for 3rddose of vaccination">3rddose</span> '),a}}{let t=Object.getOwnPropertyNames(e);var a=null;if(0==t.length)return"";a="";for(let e=0;e<t.length;e++)a+=`<span class="badge badge-info" title="this date has this vaccine available">${t[e]}</span> `;let i=[];for(let s=0;s<t.length;s++){let n=Object.getOwnPropertyNames(e[`${t[s]}`]);for(let e=0;e<n.length;e++)i.includes(n[e])||(i.push(n[e]),a+=`<span class="badge badge-info" title="this date has vaccines available for this age-group">${n[e]+"+"}</span> `)}i=[];for(let s=0;s<t.length;s++){let n=Object.getOwnPropertyNames(e[`${t[s]}`]);for(let d=0;d<n.length;d++){let l=Object.getOwnPropertyNames(e[`${t[s]}`][`${n[d]}`]).filter(a=>{return(e[`${t[s]}`][`${n[d]}`][a].Free||0)+(e[`${t[s]}`][`${n[d]}`][a].Paid||0)!=0});for(let o=0;o<l.length;o++){let c=Object.getOwnPropertyNames(e[`${t[s]}`][`${n[d]}`][`${l[o]}`]);for(let r=0;r<c.length;r++)e[`${t[s]}`][`${n[d]}`][`${l[o]}`][`${c[r]}`]>0&&(i.includes(c[r])||(i.push(c[r]),a+=`<span class="badge badge-info" title="this date has vaccines available by this mode of payment">${c[r]}</span> `))}}}i=[];for(let s=0;s<t.length;s++){let n=Object.getOwnPropertyNames(e[`${t[s]}`]);for(let d=0;d<n.length;d++){let l=Object.getOwnPropertyNames(e[`${t[s]}`][`${n[d]}`]).filter(a=>{return(e[`${t[s]}`][`${n[d]}`][a].Free||0)+(e[`${t[s]}`][`${n[d]}`][a].Paid||0)!=0});for(let e=0;e<l.length;e++)i.includes(l[e])||(i.push(l[e]),a+=`<span class="badge badge-info" title="this date has vaccines available for ${l[e]}">${l[e]}</span> `)}}return a}}function DelegateClick(e){if("number"==typeof e){let t=document.getElementById(`HospitalName${e}`);t&&t.click()}}function validatePin(e){return new RegExp("^[1-9]{1}[0-9]{2}[0-9]{3}$").test(e)}function ConvertData(e){let t=[];for(let a=0;a<e.length;a++)for(let i=0;i<e[a].sessions.length;i++)void 0===t.find(t=>t.value===e[a].sessions[i].date)&&t.push({value:e[a].sessions[i].date,fee_type:[e[a].fee_type],available_capacity:0,available_capacity_dose1:0,available_capacity_dose2:0,available_capacity_dose3:0,Hospital:[],vaccine:{}});t.sort((e,t)=>{let a=e.value.split("-"),i=t.value.split("-");return new Date(+a[2],a[1]-1,+a[0])-new Date(+i[2],i[1]-1,+i[0])});for(let a=0;a<e.length;a++)for(let i=0;i<e[a].sessions.length;i++){let s=t.findIndex(t=>t.value===e[a].sessions[i].date);if(-1!=s){let n=[12,18,45];t[s].available_capacity+=e[a].sessions[i].available_capacity,t[s].available_capacity_dose1+=e[a].sessions[i].available_capacity_dose1,t[s].available_capacity_dose2+=e[a].sessions[i].available_capacity_dose2,"available_capacity_dose3"in e[a].sessions[i]&&(t[s].available_capacity_dose3+=e[a].sessions[i].available_capacity_dose3||0),t[s].fee_type.includes(e[a].fee_type)||t[s].fee_type.push(e[a].fee_type),e[a].sessions[i].vaccine in t[s].vaccine||(t[s].vaccine[`${e[a].sessions[i].vaccine}`]={}),e[a].sessions[i].min_age_limit in t[s].vaccine[`${e[a].sessions[i].vaccine}`]||(t[s].vaccine[`${e[a].sessions[i].vaccine}`][`${e[a].sessions[i].min_age_limit}`]={});let d=n.findIndex(t=>e[a].sessions[i].min_age_limit===t);if(e[a].sessions[i].allow_all_age&&-1!=d)for(let l=d+1;l<n.length;l++)n[l]in t[s].vaccine[`${e[a].sessions[i].vaccine}`]||(t[s].vaccine[`${e[a].sessions[i].vaccine}`][n[l]]={});for(let l=d;l<n.length&&("1stdose"in t[s].vaccine[`${e[a].sessions[i].vaccine}`][n[l]]?e[a].fee_type in t[s].vaccine[`${e[a].sessions[i].vaccine}`][n[l]]["1stdose"]?t[s].vaccine[`${e[a].sessions[i].vaccine}`][n[l]]["1stdose"][`${e[a].fee_type}`]+=e[a].sessions[i].available_capacity_dose1:t[s].vaccine[`${e[a].sessions[i].vaccine}`][n[l]]["1stdose"][`${e[a].fee_type}`]=e[a].sessions[i].available_capacity_dose1:(t[s].vaccine[`${e[a].sessions[i].vaccine}`][n[l]]["1stdose"]={},t[s].vaccine[`${e[a].sessions[i].vaccine}`][n[l]]["1stdose"][`${e[a].fee_type}`]=e[a].sessions[i].available_capacity_dose1),"2nddose"in t[s].vaccine[`${e[a].sessions[i].vaccine}`][n[l]]?e[a].fee_type in t[s].vaccine[`${e[a].sessions[i].vaccine}`][n[l]]["2nddose"]?t[s].vaccine[`${e[a].sessions[i].vaccine}`][n[l]]["2nddose"][`${e[a].fee_type}`]+=e[a].sessions[i].available_capacity_dose2:t[s].vaccine[`${e[a].sessions[i].vaccine}`][n[l]]["2nddose"][`${e[a].fee_type}`]=e[a].sessions[i].available_capacity_dose2:(t[s].vaccine[`${e[a].sessions[i].vaccine}`][n[l]]["2nddose"]={},t[s].vaccine[`${e[a].sessions[i].vaccine}`][n[l]]["2nddose"][`${e[a].fee_type}`]=e[a].sessions[i].available_capacity_dose2),"3rddose"in t[s].vaccine[`${e[a].sessions[i].vaccine}`][n[l]]?e[a].fee_type in t[s].vaccine[`${e[a].sessions[i].vaccine}`][n[l]]["3rddose"]?t[s].vaccine[`${e[a].sessions[i].vaccine}`][n[l]]["3rddose"][`${e[a].fee_type}`]+=e[a].sessions[i].available_capacity_dose3||0:t[s].vaccine[`${e[a].sessions[i].vaccine}`][n[l]]["3rddose"][`${e[a].fee_type}`]=e[a].sessions[i].available_capacity_dose3||0:(t[s].vaccine[`${e[a].sessions[i].vaccine}`][n[l]]["3rddose"]={},t[s].vaccine[`${e[a].sessions[i].vaccine}`][n[l]]["3rddose"][`${e[a].fee_type}`]=e[a].sessions[i].available_capacity_dose3||0),e[a].sessions[i].allow_all_age);l++);let l=null;if(/paid/i.test(e[a].fee_type))if(void 0!==e[a].vaccine_fees)for(let t=0;t<e[a].vaccine_fees.length;t++)e[a].sessions[i].vaccine===e[a].vaccine_fees[t].vaccine&&(l=+e[a].vaccine_fees[t].fee);else"COVISHIELD"===e[a].sessions[i].vaccine?l=780:"COVAXIN"===e[a].sessions[i].vaccine?l=1145:"SPUTNIK V"===e[a].sessions[i].vaccine&&(l=1200);t[s].Hospital.push({name:e[a].name,address:e[a].address,pincode:e[a].pincode,block_name:e[a].block_name,district_name:e[a].district_name,state_name:e[a].state_name,allow_all_age:e[a].sessions[i].allow_all_age,min_age_limit:e[a].sessions[i].min_age_limit,available_capacity:e[a].sessions[i].available_capacity,"1stdose":e[a].sessions[i].available_capacity_dose1,"2nddose":e[a].sessions[i].available_capacity_dose2,"3rddose":e[a].sessions[i].available_capacity_dose3||0,fee_type:e[a].fee_type,vaccine:e[a].sessions[i].vaccine,fees:l||0})}}return{date:t}}function PinValid(e){if(validatePin(1==e?document.getElementById("pininput1").value:document.getElementById("pininput0").value)){document.getElementById(`PinButton${e}`).removeAttribute("disabled");let t=0;(t=1==e?document.getElementById("pininput1"):document.getElementById("pininput0")).setAttribute("class","form-control mr-sm-2 text-white");let a=document.getElementById("invalid-feedback");a&&a.remove()}else{document.getElementById(`PinButton${e}`).setAttribute("disabled","disabled");let t=document.getElementById("dateResults");t&&(t.innerHTML="")}}
